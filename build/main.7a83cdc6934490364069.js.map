{"version":3,"sources":["webpack:///./index.js","webpack:///./js/search-servies.js","webpack:///./template/textTemplate.hbs"],"names":["originalText","searchQuery","selector","regex","RegExp","newText","replace","innerHTML","selectors","array","Object","values","index","length","setAttribute","refs","textOutput","document","querySelector","searchInput","addEventListener","fetch","then","response","json","text","inputData","markup","textTemplate","insertAdjacentHTML","debounce","e","query","target","value","searchService","marks","querySelectorAll","Handlebars","module","exports","template","container","depth0","helpers","partials","data","escapeExpression","lambda","stack1","lookupProperty","parent","propertyName","prototype","hasOwnProperty","call","nullContext","program","noop"],"mappings":"2JAKIA,E,0CCLW,G,kDAAA,SACDA,EAAcC,EAAaC,GACrC,IAAMC,EAAQ,IAAIC,OAAOH,EAAa,MAEhCI,EADOL,EACQM,QACnBH,EACA,sDAEFD,EAASK,UAAYF,IARV,WAUCG,GAEZ,IADA,IAAMC,EAAQC,OAAOC,OAAOH,GACnBI,EAAQ,EAAGA,EAAQH,EAAMI,OAAQD,IAAS,CACjCH,EAAMG,GACdE,aAAa,aAAcF,EAAQ,KAdlC,WAiBPZ,EAAcE,GAClBA,EAASK,UAAYP,GDVnBe,EAAO,CACXC,WAAYC,SAASC,cAAc,0BACnCC,YAAaF,SAASC,cAAc,yBA2BtCD,SAASG,iBAAiB,YAnBxBC,MAXU,oDAYPC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAPV,IAAoBC,EACZC,EADYD,EAQHD,EAPTE,EAASC,IAAaF,GAC5BX,EAAKC,WAAWa,mBAAmB,YAAaF,GAO5C3B,EAAee,EAAKC,WAAWE,cAAc,KAAKX,cAgBxDQ,EAAKI,YAAYC,iBAAiB,QAASU,KAb3C,SAAgBC,GACd,IAAMC,EAAQD,EAAEE,OAAOC,MACjBhC,EAAWa,EAAKC,WAAWE,cAAc,KAC/C,GAAqB,IAAjBc,EAAMnB,QAA0B,MAAVmB,EAM1BG,EAAoBnC,EAAcE,OANlC,CACEiC,EAA0BnC,EAAcgC,EAAO9B,GAC/C,IAAMkC,EAAQnB,SAASoB,iBAAiB,sBACxCF,EAA4BC,MAO4B,O,qBEtC5D,IAAIE,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,OAAOJ,EAAUK,iBAAiBL,EAAUM,OAAOL,EAAQA,KAC7D,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIG,EAON,MAAO,OACqR,OAAtRA,GARyBP,EAAUQ,gBAAkB,SAASC,EAAQC,GACtE,GAAI1C,OAAO2C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,KAMQR,EAAQ,QAAQW,KAAe,MAAVZ,EAAiBA,EAAUD,EAAUc,aAAe,GAAIb,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUe,QAAQ,EAAGX,EAAM,GAAG,QAAUJ,EAAUgB,KAAK,KAAOZ,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,EAAE,OAAS,QAAkBG,EAAS,IACxS,QACJ,SAAU,M","file":"main.7a83cdc6934490364069.js","sourcesContent":["import './styles.css';\nimport textTemplate from './template/textTemplate.hbs';\nimport debounce from 'lodash.debounce';\nimport searchService from './js/search-servies';\n\nlet originalText;\n\nconst url = 'https://baconipsum.com/api/?type=meat-and-filler';\nconst refs = {\n  textOutput: document.querySelector('[data-action=\"output\"]'),\n  searchInput: document.querySelector('[data-action=search]'),\n};\n\nfunction renderText(inputData) {\n  const markup = textTemplate(inputData);\n  refs.textOutput.insertAdjacentHTML('beforeend', markup);\n}\nfunction fetchText() {\n  fetch(url)\n    .then(response => response.json())\n    .then(text => {\n      renderText(text);\n      originalText = refs.textOutput.querySelector('p').innerHTML;\n    });\n}\nfunction search(e) {\n  const query = e.target.value;\n  const selector = refs.textOutput.querySelector('p');\n  if (query.length !== 0 && query !== ' ') {\n    searchService.searchMatch(originalText, query, selector);\n    const marks = document.querySelectorAll('[data-mark=\"true\"]');\n    searchService.numberMatches(marks);\n    return;\n  }\n  searchService.reset(originalText, selector);\n}\n\ndocument.addEventListener('load', fetchText());\nrefs.searchInput.addEventListener('input', debounce(search, 500));\n","export default {\r\n  searchMatch(originalText, searchQuery, selector) {\r\n    const regex = new RegExp(searchQuery, 'gi');\r\n    const text = originalText;\r\n    const newText = text.replace(\r\n      regex,\r\n      '<mark class=\"highlight\" data-mark=\"true\">$&</mark>',\r\n    );\r\n    selector.innerHTML = newText;\r\n  },\r\n  numberMatches(selectors) {\r\n    const array = Object.values(selectors);\r\n    for (let index = 0; index < array.length; index++) {\r\n      const element = array[index];\r\n      element.setAttribute('data-index', index + 1);\r\n    }\r\n  },\r\n  reset(originalText, selector) {\r\n    selector.innerHTML = originalText;\r\n  },\r\n};\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda(depth0, depth0));\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<p>\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":3},\"end\":{\"line\":1,\"column\":34}}})) != null ? stack1 : \"\")\n    + \"</p>\";\n},\"useData\":true});"],"sourceRoot":""}