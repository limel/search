{"version":3,"sources":["webpack:///./index.js","webpack:///./template/textTemplate.hbs"],"names":["refs","textOutput","document","querySelector","searchInput","renderText","inputData","markup","textTemplate","insertAdjacentHTML","addEventListener","fetch","then","response","json","debounce","e","markInstance","Mark","getElementById","query","target","value","options","unmark","done","mark","marks","querySelectorAll","marksArray","Object","values","console","log","index","length","setAttribute","Handlebars","module","exports","template","container","depth0","helpers","partials","data","escapeExpression","lambda","stack1","lookupProperty","parent","propertyName","prototype","hasOwnProperty","call","nullContext","program","noop"],"mappings":"oOAQMA,EAAO,CACXC,WAAYC,SAASC,cAAc,0BACnCC,YAAaF,SAASC,cAAc,yBAGtC,SAASE,EAAWC,GAClB,IAAMC,EAASC,IAAaF,GAC5BN,EAAKC,WAAWQ,mBAAmB,YAAaF,GA6BlDL,SAASQ,iBAAiB,YAzBxBC,MAbU,oDAcPC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,KAAKP,IAwBVL,EAAKI,YAAYM,iBAAiB,QAASK,KArB3C,SAAgBC,GACd,IAAMC,EAAe,IAAIC,IAAKhB,SAASiB,eAAe,YAChDC,EAAQJ,EAAEK,OAAOC,MACjBC,EAAU,GAChBN,EAAaO,OAAO,CAClBC,KAAM,WACJR,EAAaS,KAAKN,EAAOG,MAI7B,IAAMI,EAAQzB,SAAS0B,iBAAiB,wBAClCC,EAAaC,OAAOC,OAAOJ,GACjCK,QAAQC,IAAIJ,GAEZ,IAAK,IAAIK,EAAQ,EAAGA,EAAQL,EAAWM,OAAQD,IAAS,CACtCL,EAAWK,GACnBE,aAAa,aAAcF,EAAQ,MAKa,O,qBC7C5D,IAAIG,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,OAAOJ,EAAUK,iBAAiBL,EAAUM,OAAOL,EAAQA,KAC7D,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIG,EAON,MAAO,oBACsR,OAAvRA,GARyBP,EAAUQ,gBAAkB,SAASC,EAAQC,GACtE,GAAIrB,OAAOsB,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,KAMQR,EAAQ,QAAQW,KAAe,MAAVZ,EAAiBA,EAAUD,EAAUc,aAAe,GAAIb,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUe,QAAQ,EAAGX,EAAM,GAAG,QAAUJ,EAAUgB,KAAK,KAAOZ,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,QAAkBG,EAAS,IACzS,QACJ,SAAU,M","file":"main.01ea85ef9382b7699b75.js","sourcesContent":["import './styles.css';\n\nimport textTemplate from './template/textTemplate.hbs';\nimport debounce from 'lodash.debounce';\nimport Mark from 'mark.js';\n\nconst url = 'https://baconipsum.com/api/?type=meat-and-filler';\n\nconst refs = {\n  textOutput: document.querySelector('[data-action=\"output\"]'),\n  searchInput: document.querySelector('[data-action=search]'),\n};\n\nfunction renderText(inputData) {\n  const markup = textTemplate(inputData);\n  refs.textOutput.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction fetchText() {\n  fetch(url)\n    .then(response => response.json())\n    .then(renderText);\n}\n\nfunction search(e) {\n  const markInstance = new Mark(document.getElementById('article')); // вынести из функции\n  const query = e.target.value;\n  const options = {};\n  markInstance.unmark({\n    done: function () {\n      markInstance.mark(query, options);\n    },\n  });\n\n  const marks = document.querySelectorAll('[data-markjs=\"true\"]');\n  const marksArray = Object.values(marks);\n  console.log(marksArray);\n\n  for (let index = 0; index < marksArray.length; index++) {\n    const element = marksArray[index];\n    element.setAttribute('data-index', index + 1);\n  }\n}\n\ndocument.addEventListener('load', fetchText());\nrefs.searchInput.addEventListener('input', debounce(search, 500));\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda(depth0, depth0));\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<p id='article'>\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":16},\"end\":{\"line\":1,\"column\":47}}})) != null ? stack1 : \"\")\n    + \"</p>\";\n},\"useData\":true});"],"sourceRoot":""}